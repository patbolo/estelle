<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Estelle</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

  <script type="x-shader/x-vertex" id="vert">
    attribute vec3 offset;
    attribute vec2 uvOffset;
    attribute vec2 uvScale;
    attribute vec2 scale;
    varying vec2 vUv;
    void main() {
    
        vUv = uvOffset + uv * uvScale;
        
        // vec2 scale = vec2( 20.0 ); // create a uniform for this
        
        vec2 alignedPosition = ( ( position.xy * scale ) + offset.xy );
        
        vec4 mvPosition = vec4( modelViewMatrix[3][0], modelViewMatrix[3][1], modelViewMatrix[3][2], modelViewMatrix[3][3] );
        mvPosition.xy += alignedPosition;
    
        gl_Position = projectionMatrix * mvPosition;
        
    }</script>
    
    <script type="x-shader/x-fragment" id="frag">
      precision highp float;
    
      varying vec2 vUv;      
    
      void main() {
        float pct = 0.0;
        float dist = distance(vUv,vec2(0.5));
        pct = 1.0-dist;
        vec3 color = vec3(pct);
        gl_FragColor = vec4( color, 1.0-dist );
      }
    </script>

    <script id="vertexShader" type="x-shader/x-vertex">
      precision highp float;
  
      uniform float sineTime;
  
      uniform mat4 modelViewMatrix;
      uniform mat4 projectionMatrix;
  
      attribute vec3 position;
      attribute vec3 offset;
      attribute vec4 color;
      attribute vec4 orientationStart;
      attribute vec4 orientationEnd;
  
      varying vec3 vPosition;
      varying vec4 vColor;
  
      void main(){
  
        vPosition = offset + position;
        //vec4 orientation = normalize( mix( orientationStart, orientationEnd, sineTime ) );
        //vec3 vcV = cross( orientation.xyz, vPosition );
        //vPosition = vcV * ( 2.0 * orientation.w ) + ( cross( orientation.xyz, vcV ) * 2.0 + vPosition );
  
        vColor = color;
  
        gl_Position = projectionMatrix * modelViewMatrix * vec4( vPosition, 1.0 );
  
      }
  
    </script>
  
    <script id="fragmentShader" type="x-shader/x-fragment">
  
      precision highp float;
  
      uniform float time;
  
      varying vec3 vPosition;
      varying vec4 vColor;
  
      void main() {
  
        vec4 color = vec4( vColor );
        color.r += sin( vPosition.x * 10.0 + time ) * 0.5;
  
        gl_FragColor = color;
  
      }
  
    </script>
    
</head>
<body>
  <app-root></app-root>
</body>
</html>
